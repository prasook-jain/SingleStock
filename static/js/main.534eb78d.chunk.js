(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(e,t,a){e.exports=a(405)},152:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},258:function(e,t,a){},401:function(e,t,a){},403:function(e,t,a){},404:function(e,t,a){},405:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(144),s=a.n(c),o=(a(152),a(4)),l=a.n(o),u=a(6),i=a(2),p=(a(154),a(25)),f=a(12),d=r.a.createContext({shares:{},updateShares:function(){}});a(155);var h=function(e){var t=Object(n.useState)(e.shareValue),a=Object(i.a)(t,2),c=a[0],s=a[1],o=function(t){e.submit(c),t.preventDefault()};return r.a.createElement("form",{onSubmit:o,className:"box-add-component"},r.a.createElement("div",{className:"box-add-input"},r.a.createElement("legend",{name:"shareValue"},"Edit Shares"),r.a.createElement("input",{type:"number",name:"shareValue",value:c||"",onChange:function(e){var t=Number(e.target.value);console.log(typeof t),s(t||0),e.preventDefault()},placeholder:c})),r.a.createElement("div",{className:"box-add-button box-button",onClick:o},"Submit"))},m=a(3),v=a.n(m),b=(a(258),a(259));b.configure({endpointUrl:"https://api.airtable.com",apiKey:"keyFxvyTYhr9optmZ"});var g=b.base("app6Vas60DNc0g354")("Imported table");function D(e,t){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(l.a.mark(function e(t,a){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,new Promise(function(e,r){g.create({date:t,close:205.95,volume:20206666,open:a,high:211,low:201.8},function(t,c){t?(console.error(t),n={},console.log("Err in async call : ",t),r(t)):e({id:c.getId(),date:new Date(c.get("date")),isEmpty:c.get("open")<=0,open:a})})});case 4:n=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("Inside CreateData Err:",e.t0),n={};case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}function j(e,t){return E.apply(this,arguments)}function E(){return(E=Object(u.a)(l.a.mark(function e(t,a){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.prev=1,e.next=4,new Promise(function(e,n){g.update(t.id,{open:a},function(t){t?(console.log("inside query error function",t),e(!1)):e(!0)})});case 4:n=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),n=!1,console.log("error inside catch pharse",e.t0);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}function w(e){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(l.a.mark(function e(t){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e,a){g.destroy(t.id,function(t,a){t?(console.error("Error inside deleteData",t),e(!1)):(console.log(a),e(!0))})});case 3:a=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),a=!1,console.log("Inside catch of deleteData ",e.t0);case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}function y(){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,new Promise(function(e,a){g.select({maxRecords:300,view:"Grid view",fields:["date","open"]}).eachPage(function(e,a){e.forEach(function(e){t[e.get("date")]={id:e.id,date:new Date(e.get("date")),isEmpty:e.get("open")<=0,open:e.get("open")}}),a()},function(n){n?(console.log("Errors in getData:",n),a(n)):(console.log("Inside getData, : ",t),e(t))})});case 4:t=e.sent,e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("Error during async/await getData() in airtableAPI."),console.log("Following is the error : "),console.log(e.t0);case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}var Y=function(e){var t=Object(n.useContext)(d),a=Object(n.useState)({}),c=Object(i.a)(a,2),s=c[0],o=c[1],m=Object(n.useState)(e.date),b=Object(i.a)(m,2),g=b[0],O=b[1],E=Object(n.useState)(!1),x=Object(i.a)(E,2),y=x[0],S=x[1];Object(n.useEffect)(function(){if(Object.keys(t.shares).length){var e=v.a.format(g,"YYYY-MM-DD"),a=t.shares[e];o(a||{})}},[t.shares,g]),Object(n.useEffect)(function(){O(e.date)},[e.date]);var Y=function(t){e.isPopUp||(S(!y),e.changePopUp()),t.preventDefault()},k=v.a.format(g,"YYYY-MM-DD"),N=function(){var e=Object(u.a)(l.a.mark(function e(a){var n,r,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,r=t.shares,e.prev=2,e.next=5,D(k,a);case 5:c=e.sent,o(c),t.updateShares(Object(f.a)({},t.shares,Object(p.a)({},k,c))),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(2),o({}),t.updateShares(Object(f.a)({},r)),n=!1,console.log("Error in createShares fn -> createDataAysnc : ",e.t0);case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(u.a)(l.a.mark(function e(a){var n,r,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,r=t.shares,e.prev=2,e.next=5,j(s,a);case 5:e.sent&&(c=Object(f.a)({},s,{open:a}),o(c),t.updateShares(Object(f.a)({},t.shares,Object(p.a)({},k,c)))),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(2),o(s),t.updateShares(Object(f.a)({},r)),n=!1,console.log("Error in updateShares fn -> updateDataAysnc : ",e.t0);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(l.a.mark(function e(a){var n,r,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,r=t.shares,e.prev=2,e.next=5,w(s,a);case 5:e.sent&&(o({}),delete(c=t.shares)[k],t.updateShares(Object(f.a)({},c))),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(2),o(s),t.updateShares(Object(f.a)({},r)),n=!1,console.log("Error in updateShares fn -> deleteDataAysnc : ",e.t0);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"box "+(e.isMonth?"":"opaque ")+(g.getTime()===t.startDate.getTime()?"start-date":"")+(g.getTime()===t.endDate.getTime()?"end-date":"")},Object.values(s).length?r.a.createElement("div",{className:"box-close-button",onClick:function(e){console.log("delete Data",C(s)),e.preventDefault()}},"x"):"",r.a.createElement("div",{className:"box-date",onClick:Y},g.getDate()),r.a.createElement("div",{className:"box-share box-button",onClick:Y},Object.values(s).length?"$"+s.open:"Add"),y?r.a.createElement(h,{closePopUp:Y,shareValue:Object.values(s).length?s.open:0,submit:function(t){t=Number(t.toFixed(2)),Object.values(s).length?t!==s.open&&console.log("update Data",M(t)):console.log("create Data",N(t)),e.isPopUp&&(S(!y),e.changePopUp())}}):"")},k=(a(401),function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return v.a.format(new Date(e,t,a),"YYYY-MM-DD")}),N=function(e,t){for(var a,n=new Date(k(t,e,1)),r=n.getDay(),c=v.a.getDaysInMonth(n),s=[],o=r;o>0;o--)(a=new Date(k(t,e,1))).setDate(n.getDate()-o),s.push(a);for(var l=0;l<c;l++)(a=new Date(k(t,e,1))).setDate(n.getDate()+l),s.push(a);for(var u=c;u<42-r;u++)(a=new Date(k(t,e,1))).setDate(n.getDate()+u),s.push(a);return s};var M=function(){var e=Object(n.useContext)(d),t=Object(n.useState)(e.startDate.getMonth()),a=Object(i.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(v.a.getYear(e.startDate)),l=Object(i.a)(o,2),u=l[0],p=l[1],f=Object(n.useState)(N(c,u)),h=Object(i.a)(f,2),m=h[0],b=h[1],g=Object(n.useState)(!1),D=Object(i.a)(g,2),O=D[0],j=D[1],E=[];["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].forEach(function(e){E.push(r.a.createElement("div",{key:E.length,className:"week-header"},r.a.createElement("span",null,e)))}),Object(n.useEffect)(function(){var t=e.startDate.getMonth(),a=v.a.getYear(e.startDate);s(t),p(a),b(N(t,a))},[e.startDate]);var w=function(){j(!O)},x=function(t,a){var n=new Date(k(u,c,1));n.setMonth(n.getMonth()+a),e.updateStartDate(n),console.log(v.a.getDaysInMonth(n)),console.log(k(v.a.getYear(n),n.getMonth(),v.a.getDaysInMonth(n)));var r=new Date(k(v.a.getYear(n),n.getMonth(),v.a.getDaysInMonth(n)));e.updateEndDate(r),console.log("(From Calender click) start Date : ",n),console.log("(From Calender click) end Date : ",r);var o=n.getMonth(),l=v.a.getYear(n),i=N(o,l);s(o),p(l),b(i),t.preventDefault()};return r.a.createElement("div",{className:"calendar-container"},r.a.createElement("div",{className:"calendar-toolbar"},r.a.createElement("div",{className:"toolbar-button left",onClick:function(e){x(e,-1)}},"<"),r.a.createElement("div",{className:"month"},v.a.format(new Date(k(u,c,1)),"MMM YYYY")),r.a.createElement("div",{className:"toolbar-button right",onClick:function(e){x(e,1)}},">")),E,function(){var e=[];return m.forEach(function(t){e.push(r.a.createElement(Y,{date:t,isMonth:t.getMonth()===c,key:v.a.format(t,"YYYY-MM-DD"),isPopUp:O,changePopUp:w}))}),e}())},C=a(145),P=a.n(C),T=a(146),A=a.n(T);var I=function(e){var t=Object(n.useContext)(d),a=Object(n.useState)([]),c=Object(i.a)(a,2),s=c[0],o=c[1],l=Object(n.useState)(t.startDate),u=Object(i.a)(l,2),p=u[0],f=u[1],h=Object(n.useState)(t.endDate),m=Object(i.a)(h,2),v=(m[0],m[1]),b={plotOptions:{series:{pointStart:p}},xAxis:{type:"datetime"},title:{text:"$TSLA Stock Price"},rangeSelector:{allButtonsEnabled:!0,buttons:[{type:"all",text:"All"}],inputEnabled:!1},series:[{name:"$TSLA",data:s,tooltip:{valueDecimals:2}}],navigator:{enabled:!1}};return Object(n.useEffect)(function(){f(t.startDate),v(t.endDate);for(var a=!1,n=[],r=0;r<e.data.length;r++){var c=e.data[r];if(c[0]>=t.startDate.getTime()&&!a&&(a=!0),a&&n.push(c),c[0]>=t.endDate.getTime()){a=!1;break}}o(n)},[t.startDate,t.endDate,e.data]),r.a.createElement("div",{className:"graph"},r.a.createElement(A.a,{highcharts:P.a,constructorType:"stockChart",options:b}))},F=(a(403),function(e,t,a){var n=!1,r=-1,c=[];console.log("Inside findMax fn",e,t,a);for(var s=0;s<a.length;s++){var o=a[s];if(o[0]>=e.getTime()&&!n&&(n=!0,r=s),n&&c.push(o[1]),o[0]>=t.getTime()){n=!1;break}}if(c.length<=1)return[0,0,0,-1];for(var l=0,u=c[0],i=0,p=0,f=0,d=1;d<c.length;d++)l<c[d]-u&&(l=c[d]-u,i=d,p=f),u>c[d]&&(u=c[d],f=d);return(i+=r)===(p+=r)?[l,i,p,-2]:[l,i,p,1]});var U=function(e){var t=Object(n.useContext)(d),a=Object(n.useState)(0),c=Object(i.a)(a,2),s=c[0],o=c[1],l=Object(n.useState)("No share values"),u=Object(i.a)(l,2),p=u[0],f=u[1],h=Object(n.useState)("No share values"),m=Object(i.a)(h,2),b=m[0],g=m[1];return Object(n.useEffect)(function(){var a=t.startDate,n=t.endDate,r=e.data;console.log("when props.data changes ",a.getDate(),n.getDate(),e.data);var c=F(a,n,r),s=Object(i.a)(c,4),l=s[0],u=s[1],p=s[2],d=s[3];console.log("after findMax calculation",l,u,p),o(10*l),1===d?(f(new Date(r[p][0])),g(new Date(r[u][0]))):-2===d?(f("No Possible Profit"),g("No Possible Profit")):(f("No share values"),g("No share values"))},[t.startDate,t.endDate,e.data]),r.a.createElement("div",{className:"max-profit"},r.a.createElement("p",{className:"row-info"},r.a.createElement("span",{className:"label"},"Max Profit :"),r.a.createElement("span",{className:"result"}," ",s.toFixed(2))),r.a.createElement("p",{className:"row-info"},r.a.createElement("span",{className:"label"},"Buy Date :"),r.a.createElement("span",{className:"result"}," ","string"!==typeof p?v.a.format(p,"DD-MMM-YYYY"):p)),r.a.createElement("p",{className:"row-info"},r.a.createElement("span",{className:"label"},"Sale Date :"),r.a.createElement("span",{className:"result"}," ","string"!==typeof b?v.a.format(b,"DD-MMM-YYYY"):b)))};a(404);var B=function(e){var t=Object(n.useContext)(d),a=Object(n.useState)(t.startDate),c=Object(i.a)(a,2),s=c[0],o=c[1],l=Object(n.useState)(t.endDate),u=Object(i.a)(l,2),p=u[0],f=u[1];return Object(n.useEffect)(function(){o(t.startDate),f(t.endDate)},[t.startDate,t.endDate]),r.a.createElement("div",{className:"sale-buy-date"},r.a.createElement("div",{className:"row-info"},r.a.createElement("span",{className:"label"},"Add Start Date : "),r.a.createElement("input",{type:"date",value:v.a.format(s,"YYYY-MM-DD"),onChange:function(e){console.log("changeBuyDate raw data : ",e.target.value);var a=new Date(e.target.value);a.getTime()<p.getTime()?(o(a),t.updateStartDate(a)):console.log("Can't possible date change, invalid check range again"),e.preventDefault()}})),r.a.createElement("div",{className:"row-info"},r.a.createElement("span",{className:"label"},"Add End Date : "),r.a.createElement("input",{type:"date",value:v.a.format(p,"YYYY-MM-DD"),onChange:function(e){console.log("changeSaleDate raw data : ",e.target.value);var a=new Date(e.target.value);a.getTime()>s.getTime()?(f(a),t.updateEndDate(a)):console.log("Can't possible date change, invalid check range again"),e.preventDefault()}})))};var V=function(e){var t=Object(n.useContext)(d),a=Object(n.useState)([]),c=Object(i.a)(a,2),s=c[0],o=c[1];return Object(n.useEffect)(function(){var e=[];if(Object.keys(t.shares).length){var a=Object.keys(t.shares);a=a.sort(function(e,a){return t.shares[e].date>t.shares[a].date?1:t.shares[e].date<t.shares[a].date?-1:0});var n=!0,r=!1,c=void 0;try{for(var s,l=a[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;e.push([t.shares[u].date.getTime(),t.shares[u].open])}}catch(i){r=!0,c=i}finally{try{n||null==l.return||l.return()}finally{if(r)throw c}}console.log("(Right Panel) TempData : ",e),o(e)}},[t.shares]),r.a.createElement("div",{className:"right-panel"},r.a.createElement(U,{data:s}),r.a.createElement(I,{data:s}),r.a.createElement(B,null))};var $=function(){var e=Object(n.useState)({shares:{},isFetched:!1}),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(new Date("2019-01-01")),o=Object(i.a)(s,2),p=o[0],f=o[1],h=Object(n.useState)(new Date("2019-01-31")),m=Object(i.a)(h,2),v=m[0],b=m[1];return Object(n.useEffect)(function(){var e=function(){var e=Object(u.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y();case 3:t=e.sent,c({shares:t,isFetched:!0}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Inside App useEffect : ",e.t0),c({shares:[],isFetched:!1});case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();a.isFetched||console.log("FetchShares called",e())}),r.a.createElement(d.Provider,{value:{shares:a.shares,updateShares:function(e){c({shares:e})},startDate:p,updateStartDate:function(e){f(e)},endDate:v,updateEndDate:function(e){b(e)}}},r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"left-panel"},r.a.createElement(M,null)),r.a.createElement(V,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[147,1,2]]]);
//# sourceMappingURL=main.534eb78d.chunk.js.map