(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,a){e.exports=a.p+"static/media/Ellipsis-20px.54abb96f.svg"},148:function(e,t,a){e.exports=a(406)},153:function(e,t,a){},399:function(e,t,a){},400:function(e,t,a){},401:function(e,t,a){},402:function(e,t,a){},404:function(e,t,a){},405:function(e,t,a){},406:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(144),o=a.n(c),s=(a(153),a(4)),i=a.n(s),l=a(6),u=a(2),p=r.a.createContext({shares:{},updateShares:function(){}}),f=a(155);f.configure({endpointUrl:"https://api.airtable.com",apiKey:"keyFxvyTYhr9optmZ"});var m=f.base("app6Vas60DNc0g354")("Imported table");function d(e,t){return b.apply(this,arguments)}function b(){return(b=Object(l.a)(i.a.mark(function e(t,a){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,new Promise(function(e,r){m.create({date:t,close:205.95,volume:20206666,open:a,high:211,low:201.8},function(t,c){t?(n={},console.log("Err in async call : ",t),r(t)):e({id:c.getId(),date:new Date(c.get("date")),isEmpty:c.get("open")<=0,open:a})})});case 4:n=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("Inside CreateData Err:",e.t0),n={};case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}function h(e,t){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(i.a.mark(function e(t,a){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.prev=1,e.next=4,new Promise(function(e,n){m.update(t.id,{open:a},function(t){t?(console.log("inside query error function",t),e(!1)):e(!0)})});case 4:n=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),n=!1,console.log("error inside catch pharse",e.t0);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}function g(e){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e,a){m.destroy(t.id,function(t,a){t?(console.error("Error inside deleteData",t),e(!1)):e(!0)})});case 3:a=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),a=!1,console.log("Inside catch of deleteData ",e.t0);case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}function O(){return j.apply(this,arguments)}function j(){return(j=Object(l.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,new Promise(function(e,a){m.select({maxRecords:300,view:"Grid view",fields:["date","open"]}).eachPage(function(e,a){e.forEach(function(e){t[e.get("date")]={id:e.id,date:new Date(e.get("date")),isEmpty:e.get("open")<=0,open:e.get("open")}}),a()},function(n){n?(console.log("Errors in getData:",n),a(n)):e(t)})});case 4:t=e.sent,e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("Error during async/await getData() in airtableAPI."),console.log("Following is the error : "),console.log(e.t0);case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}var E=a(3),x=a.n(E),y=a(25),w=a(12);a(399);var S=function(e){var t=Object(n.useState)(e.shareValue),a=Object(u.a)(t,2),c=a[0],o=a[1],s=function(t){e.submit(Number(c.toFixed(2))),t.preventDefault()};return r.a.createElement("form",{onSubmit:s,className:"box-add-component"},r.a.createElement("div",{className:"box-add-input"},r.a.createElement("legend",{name:"shareValue"},"Edit Shares"),r.a.createElement("input",{type:"number",name:"shareValue",steps:"0.00001",min:"0",value:c||"",onChange:function(e){var t=Number(e.target.value);o(t||0),e.preventDefault()},placeholder:c})),r.a.createElement("div",{className:"box-add-button box-button",onClick:s},"Submit"),r.a.createElement("div",{className:"box-add-close-button",onClick:function(t){console.log("Inside handle Close"),e.closePopUp(t),t.preventDefault()}},"x"))},k=a(145),N=a.n(k);a(400);var M=function(e){var t=Object(n.useContext)(p),a=Object(n.useState)({}),c=Object(u.a)(a,2),o=c[0],s=c[1],f=Object(n.useState)(e.date),m=Object(u.a)(f,2),b=m[0],v=m[1],D=Object(n.useState)(!1),O=Object(u.a)(D,2),j=O[0],E=O[1],k=Object(n.useState)(!0),M=Object(u.a)(k,2),P=M[0],Y=M[1];Object(n.useEffect)(function(){if(Object.keys(t.shares).length){Y(!1);var a=x.a.format(e.date,"YYYY-MM-DD"),n=t.shares[a];s(n||{})}},[t.shares,e.date]),Object(n.useEffect)(function(){v(e.date)},[e.date]);var T=function(t){console.log(e.isPopUp),E(!j),e.changePopUp(),t.preventDefault()},C=x.a.format(b,"YYYY-MM-DD"),F=function(){var e=Object(l.a)(i.a.mark(function e(a){var n,r,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,r=t.shares,e.prev=2,Y(!0),e.next=6,d(C,a);case 6:c=e.sent,s(c),t.updateShares(Object(w.a)({},t.shares,Object(y.a)({},C,c))),Y(!1),e.next=19;break;case 12:e.prev=12,e.t0=e.catch(2),s({}),t.updateShares(Object(w.a)({},r)),n=!1,console.log("Error in createShares fn -> createDataAysnc : ",e.t0),Y(!1);case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(i.a.mark(function e(a){var n,r,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,r=t.shares,e.prev=2,Y(!0),e.next=6,h(o,a);case 6:e.sent&&(c=Object(w.a)({},o,{open:a}),s(c),t.updateShares(Object(w.a)({},t.shares,Object(y.a)({},C,c)))),Y(!1),e.next=18;break;case 11:e.prev=11,e.t0=e.catch(2),s(o),t.updateShares(Object(w.a)({},r)),n=!1,console.log("Error in updateShares fn -> updateDataAysnc : ",e.t0),Y(!1);case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(i.a.mark(function e(a){var n,r,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,r=t.shares,e.prev=2,Y(!1),e.next=6,g(o,a);case 6:e.sent&&(s({}),delete(c=t.shares)[C],t.updateShares(Object(w.a)({},c))),Y(!1),e.next=18;break;case 11:e.prev=11,e.t0=e.catch(2),s(o),t.updateShares(Object(w.a)({},r)),n=!1,console.log("Error in updateShares fn -> deleteDataAysnc : ",e.t0),Y(!1);case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"box "+(e.isMonth?"":"opaque ")+(b.getTime()===t.startDate.getTime()?"start-date ":"")+(b.getTime()===t.endDate.getTime()?"end-date ":"")+("string"!==typeof t.maxProfitDate&&b.getTime()===t.maxProfitDate.getTime()?"max-profit-date ":"")+("string"!==typeof t.minProfitDate&&b.getTime()===t.minProfitDate.getTime()?"min-profit-date ":"")},Object.values(o).length?r.a.createElement("div",{className:"box-close-button",onClick:function(e){console.log("delete Data",I(o)),e.preventDefault()}},"x"):"",r.a.createElement("div",{className:"box-date",onClick:T},b.getDate()),r.a.createElement("div",{className:"box-share box-button",onClick:T},P?r.a.createElement("img",{src:N.a,alt:"load..."}):Object.values(o).length?"$"+o.open:"Add"),j?r.a.createElement(S,{closePopUp:T,shareValue:Object.values(o).length?o.open:0,submit:function(t){t=Number(t.toFixed(2)),Object.values(o).length?t!==o.open&&console.log("update Data",A(t)):console.log("create Data",F(t)),e.isPopUp&&(E(!j),e.changePopUp())}}):"")},P=(a(401),function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return x.a.format(new Date(e,t,a),"YYYY-MM-DD")}),Y=function(e,t){for(var a,n=new Date(P(t,e,1)),r=n.getDay(),c=x.a.getDaysInMonth(n),o=[],s=r;s>0;s--)(a=new Date(P(t,e,1))).setDate(n.getDate()-s),o.push(a);for(var i=0;i<c;i++)(a=new Date(P(t,e,1))).setDate(n.getDate()+i),o.push(a);for(var l=c;l<42-r;l++)(a=new Date(P(t,e,1))).setDate(n.getDate()+l),o.push(a);return o};var T=function(){var e=Object(n.useContext)(p),t=Object(n.useState)(e.startDate.getMonth()),a=Object(u.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(x.a.getYear(e.startDate)),i=Object(u.a)(s,2),l=i[0],f=i[1],m=Object(n.useState)(Y(c,l)),d=Object(u.a)(m,2),b=d[0],h=d[1],v=Object(n.useState)(!1),g=Object(u.a)(v,2),D=g[0],O=g[1],j=[];["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].forEach(function(e){j.push(r.a.createElement("div",{key:j.length,className:"week-header"},r.a.createElement("span",null,e)))}),Object(n.useEffect)(function(){console.log("Calendar cycle");var t=e.startDate.getMonth(),a=x.a.getYear(e.startDate);o(t),f(a),h(Y(t,a))},[e.startDate]);var E=function(){O(!D)},y=function(t,a){var n=new Date(P(l,c,1));n.setMonth(n.getMonth()+a),e.updateStartDate(n);var r=new Date(P(x.a.getYear(n),n.getMonth(),x.a.getDaysInMonth(n)));e.updateEndDate(r);var s=n.getMonth(),i=x.a.getYear(n),u=Y(s,i);o(s),f(i),h(u),t.preventDefault()};return r.a.createElement("div",{className:"calendar-container"},r.a.createElement("div",{className:"calendar-toolbar"},r.a.createElement("div",{className:"toolbar-button left",onClick:function(e){y(e,-1)}},"<"),r.a.createElement("div",{className:"month"},x.a.format(new Date(P(l,c,1)),"MMM YYYY")),r.a.createElement("div",{className:"toolbar-button right",onClick:function(e){y(e,1)}},">")),j,function(){var e=[];return b.forEach(function(t){e.push(r.a.createElement(M,{date:t,isMonth:t.getMonth()===c,key:x.a.format(t,"YYYY-MM-DD"),isPopUp:D,changePopUp:E}))}),e}())},C=(a(402),function(e,t,a){for(var n=!1,r=-1,c=[],o=0;o<a.length;o++){var s=a[o];if(s[0]>=e.getTime()&&!n&&(n=!0,r=o),n&&c.push(s[1]),s[0]>=t.getTime()){n=!1;break}}if(c.length<=1)return[0,0,0,-1];for(var i=0,l=c[0],u=0,p=0,f=0,m=1;m<c.length;m++)i<c[m]-l&&(i=c[m]-l,u=m,p=f),l>c[m]&&(l=c[m],f=m);return(u+=r)===(p+=r)?[i,u,p,-2]:[i,u,p,1]});var F=function(e){var t=Object(n.useContext)(p),a=Object(n.useState)(0),c=Object(u.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)("No share values"),l=Object(u.a)(i,2),f=l[0],m=l[1],d=Object(n.useState)("No share values"),b=Object(u.a)(d,2),h=b[0],v=b[1];return Object(n.useEffect)(function(){console.log("MaxProfit cycle");var a=t.startDate,n=t.endDate,r=e.data,c=C(a,n,r),o=Object(u.a)(c,4),i=o[0],l=o[1],p=o[2],f=o[3];if(s(10*i),1===f){var d=new Date(r[p][0]),b=new Date(r[l][0]);m(d),v(b),t.updateMaxProfitDate(new Date(r[l][0])),t.updateMinProfitDate(new Date(r[p][0]))}else-2===f?(m("No Possible Profit"),v("No Possible Profit")):(m("No share values"),v("No share values"))},[e.data,t.startDate,t.endDate]),r.a.createElement("div",{className:"max-profit"},r.a.createElement("p",{className:"row-info"},r.a.createElement("span",{className:"label"},"Max Profit :"),r.a.createElement("span",{className:"result"}," ",o.toFixed(2))),r.a.createElement("p",{className:"row-info"},r.a.createElement("span",{className:"label"},"Buy Date :"),r.a.createElement("span",{className:"result"}," ","string"!==typeof f?x.a.format(f,"DD-MMM-YYYY"):f)),r.a.createElement("p",{className:"row-info"},r.a.createElement("span",{className:"label"},"Sale Date :"),r.a.createElement("span",{className:"result"}," ","string"!==typeof h?x.a.format(h,"DD-MMM-YYYY"):h)))},A=a(146),I=a.n(A),U=a(147),V=a.n(U);var $=function(e){var t=Object(n.useContext)(p),a=Object(n.useState)([]),c=Object(u.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)(t.startDate),l=Object(u.a)(i,2),f=l[0],m=l[1],d=Object(n.useState)(t.endDate),b=Object(u.a)(d,2),h=b[0],v=b[1],g=Object(n.useState)(1e3),D=Object(u.a)(g,2),O=D[0],j=D[1],E=Object(n.useState)(0),y=Object(u.a)(E,2),w=y[0],S=y[1],k={yAxis:{type:"number",min:w-10,max:O+10},xAxis:{type:"datetime",minRange:26784e5,min:f.getTime(),max:h.getTime(),tickInterval:864e5},title:{text:"$TSLA Stock Price"},rangeSelector:{enabled:!1,inputEnabled:!1},series:[{name:"$TSLA",data:o,pointStart:f.getTime()}],navigator:{enabled:!1},scrollbar:{enabled:!1}};return Object(n.useEffect)(function(){console.log("CustomChart cycle"),m(t.startDate);var a=t.endDate;a.getTime()<t.startDate&&(a=x.a.lastDayOfMonth(t.startDate)),v(a);for(var n,r=!1,c=[],o=1/0,i=-1/0,l=0;l<e.data.length;l++){var u=e.data[l];if(u[0]>=t.startDate.getTime()&&!r&&(r=!0),r&&(o=Math.min(o,u[1]),i=Math.max(i,u[1]),n={x:u[0],y:u[1]},"string"!==typeof t.maxProfitDate&&t.maxProfitDate.getTime()===u[0]?(n.color="#00FF00",n.marker={enabled:!0,symbol:"circle",radius:5,fillcolor:"#00FF00"}):"string"!==typeof t.minProfitDate&&t.minProfitDate.getTime()===u[0]?(n.color="#FF0000",n.marker={enabled:!0,symbol:"circle",radius:5,fillcolor:"#0000FF"}):n.marker={enabled:!1},c.push(n)),u[0]>=a){r=!1;break}}console.log("max date : ",t.maxProfitDate),console.log("min date : ",t.minProfitDate),s(c),S(o),j(i)},[t.minProfitDate,t.maxProfitDate,t.startDate,t.endDate,e.data]),r.a.createElement("div",{className:"graph"},r.a.createElement(I.a,{highcharts:V.a,constructorType:"stockChart",options:k}))};a(404);var B=function(e){var t=Object(n.useContext)(p),a=Object(n.useState)(t.startDate),c=Object(u.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)(t.endDate),l=Object(u.a)(i,2),f=l[0],m=l[1];return Object(n.useEffect)(function(){console.log("SelectDateComponent cycle"),s(t.startDate),m(t.endDate)},[t.startDate,t.endDate]),r.a.createElement("div",{className:"sale-buy-date"},r.a.createElement("div",{className:"row-info"},r.a.createElement("span",{className:"label"},"Add Start Date : "),r.a.createElement("input",{type:"date",value:x.a.format(o,"YYYY-MM-DD"),onChange:function(e){var a=new Date(e.target.value);s(a),t.updateStartDate(a),e.preventDefault()}})),r.a.createElement("div",{className:"row-info"},r.a.createElement("span",{className:"label"},"Add End Date : "),r.a.createElement("input",{type:"date",value:x.a.format(f,"YYYY-MM-DD"),onChange:function(e){var a=new Date(e.target.value);a.getTime()>o.getTime()?(m(a),t.updateEndDate(a)):console.log("Can't possible date change, invalid check range again"),e.preventDefault()}})))};var R=function(e){var t=Object(n.useContext)(p),a=Object(n.useState)([]),c=Object(u.a)(a,2),o=c[0],s=c[1];return Object(n.useEffect)(function(){console.log("RightPanel cycle");var e=[];if(Object.keys(t.shares).length){var a=Object.keys(t.shares);a=a.sort(function(e,a){return t.shares[e].date>t.shares[a].date?1:t.shares[e].date<t.shares[a].date?-1:0});var n=!0,r=!1,c=void 0;try{for(var o,i=a[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value;e.push([t.shares[l].date.getTime(),t.shares[l].open])}}catch(u){r=!0,c=u}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}s(e)}},[t.shares]),r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{data:o}),r.a.createElement($,{data:o}),r.a.createElement(B,null))};a(405);var W=function(){var e=Object(n.useState)({shares:{},isFetched:!1}),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(new Date("2019-01-01")),s=Object(u.a)(o,2),f=s[0],m=s[1],d=Object(n.useState)(new Date("2019-01-31")),b=Object(u.a)(d,2),h=b[0],v=b[1],g=Object(n.useState)(""),D=Object(u.a)(g,2),j=D[0],E=D[1],x=Object(n.useState)(""),y=Object(u.a)(x,2),w=y[0],S=y[1];return Object(n.useEffect)(function(){var e=function(){var e=Object(l.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:t=e.sent,c({shares:t,isFetched:!0}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Inside App useEffect : ",e.t0),c({shares:[],isFetched:!1});case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();a.isFetched||console.log("FetchShares called",e())},[]),r.a.createElement(p.Provider,{value:{shares:a.shares,updateShares:function(e){c({shares:e})},startDate:f,updateStartDate:function(e){m(e)},endDate:h,updateEndDate:function(e){v(e)},maxProfitDate:j,updateMaxProfitDate:function(e){E(e)},minProfitDate:w,updateMinProfitDate:function(e){S(e)}}},r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"left-panel"},r.a.createElement(T,null)),r.a.createElement("div",{className:"right-panel"},r.a.createElement(R,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[148,1,2]]]);
//# sourceMappingURL=main.717cc5f5.chunk.js.map