(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(e,t,a){e.exports=a(403)},152:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},258:function(e,t,a){},401:function(e,t,a){},403:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(144),o=a.n(c),s=(a(152),a(3)),u=a.n(s),l=a(6),i=a(2),p=(a(154),a(25)),f=a(12),h=r.a.createContext({shares:{},updateShares:function(){}});a(155);var d=function(e){var t=Object(n.useState)(e.shareValue),a=Object(i.a)(t,2),c=a[0],o=a[1],s=function(t){e.submit(c),t.preventDefault()};return r.a.createElement("form",{onSubmit:s,className:"box-add-component"},r.a.createElement("div",{className:"box-add-input"},r.a.createElement("legend",{name:"shareValue"},"Edit Shares"),r.a.createElement("input",{type:"number",name:"shareValue",value:c||"",onChange:function(e){var t=Number(e.target.value);console.log(typeof t),o(t||0),e.preventDefault()},placeholder:c})),r.a.createElement("div",{className:"box-add-button box-button",onClick:s},"Submit"))},m=a(4),v=a.n(m),b=(a(258),a(259));b.configure({endpointUrl:"https://api.airtable.com",apiKey:"keyFxvyTYhr9optmZ"});var g=b.base("app6Vas60DNc0g354")("Imported table");function D(e,t){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(u.a.mark(function e(t,a){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,new Promise(function(e,r){g.create({date:t,close:205.95,volume:20206666,open:a,high:211,low:201.8},function(t,c){t?(console.error(t),n={},console.log("Err in async call : ",t),r(t)):e({id:c.getId(),date:new Date(c.get("date")),isEmpty:c.get("open")<=0,open:a})})});case 4:n=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("Inside CreateData Err:",e.t0),n={};case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}function j(e,t){return E.apply(this,arguments)}function E(){return(E=Object(l.a)(u.a.mark(function e(t,a){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.prev=1,e.next=4,new Promise(function(e,n){g.update(t.id,{open:a},function(t){t?(console.log("inside query error function",t),e(!1)):e(!0)})});case 4:n=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),n=!1,console.log("error inside catch pharse",e.t0);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}function w(e){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e,a){g.destroy(t.id,function(t,a){t?(console.error("Error inside deleteData",t),e(!1)):(console.log(a),e(!0))})});case 3:a=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),a=!1,console.log("Inside catch of deleteData ",e.t0);case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}function x(){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,new Promise(function(e,a){g.select({maxRecords:300,view:"Grid view",fields:["date","open"]}).eachPage(function(e,a){e.forEach(function(e){t[e.get("date")]={id:e.id,date:new Date(e.get("date")),isEmpty:e.get("open")<=0,open:e.get("open")}}),a()},function(n){n?(console.log("Errors in getData:",n),a(n)):(console.log("Inside getData, : ",t),e(t))})});case 4:t=e.sent,e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("Error during async/await getData() in airtableAPI."),console.log("Following is the error : "),console.log(e.t0);case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}var Y=function(e){var t=Object(n.useContext)(h),a=Object(n.useState)({}),c=Object(i.a)(a,2),o=c[0],s=c[1],m=Object(n.useState)(e.date),b=Object(i.a)(m,2),g=b[0],O=b[1],E=Object(n.useState)(!1),y=Object(i.a)(E,2),x=y[0],S=y[1];Object(n.useEffect)(function(){if(Object.keys(t.shares).length){var e=v.a.format(g,"YYYY-MM-DD"),a=t.shares[e];s(a||{})}},[t,o,g]),Object(n.useEffect)(function(){O(e.date)},[e.date]);var Y=function(t){e.isPopUp||(S(!x),e.changePopUp()),t.preventDefault()},k=v.a.format(g,"YYYY-MM-DD"),M=function(){var e=Object(l.a)(u.a.mark(function e(a){var n,r,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,r=t.shares,e.prev=2,e.next=5,D(k,a);case 5:c=e.sent,s(c),t.updateShares(Object(f.a)({},t.shares,Object(p.a)({},k,c))),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(2),s({}),t.updateShares(Object(f.a)({},r)),n=!1,console.log("Error in createShares fn -> createDataAysnc : ",e.t0);case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(u.a.mark(function e(a){var n,r,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,r=t.shares,e.prev=2,e.next=5,j(o,a);case 5:e.sent&&(c=Object(f.a)({},o,{open:a}),s(c),t.updateShares(Object(f.a)({},t.shares,Object(p.a)({},k,c)))),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(2),s(o),t.updateShares(Object(f.a)({},r)),n=!1,console.log("Error in updateShares fn -> updateDataAysnc : ",e.t0);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(u.a.mark(function e(a){var n,r,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,r=t.shares,e.prev=2,e.next=5,w(o,a);case 5:e.sent&&(s({}),delete(c=t.shares)[k],t.updateShares(Object(f.a)({},c))),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(2),s(o),t.updateShares(Object(f.a)({},r)),n=!1,console.log("Error in updateShares fn -> deleteDataAysnc : ",e.t0);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"box "+(e.isMonth?"":"opaque")},Object.values(o).length?r.a.createElement("div",{className:"box-close-button",onClick:function(e){console.log("delete Data",T(o)),e.preventDefault()}},"x"):"",r.a.createElement("div",{className:"box-date",onClick:Y},g.getDate()),r.a.createElement("div",{className:"box-share box-button",onClick:Y},Object.values(o).length?"$"+o.open:"Add"),x?r.a.createElement(d,{closePopUp:Y,shareValue:Object.values(o).length?o.open:0,submit:function(t){t=Number(t.toFixed(2)),Object.values(o).length?t!==o.open&&console.log("update Data",N(t)):console.log("create Data",M(t)),e.isPopUp&&(S(!x),e.changePopUp())}}):"")},k=(a(401),function(e,t){for(var a,n=new Date(t,e,1),r=n.getDay(),c=v.a.getDaysInMonth(n),o=[],s=r;s>0;s--)(a=new Date(t,e,1)).setDate(n.getDate()-s),o.push(a);for(var u=0;u<c;u++)(a=new Date(t,e,1)).setDate(n.getDate()+u),o.push(a);for(var l=c;l<42-r;l++)(a=new Date(t,e,1)).setDate(n.getDate()+l),o.push(a);return o});var M=function(){var e=Object(n.useContext)(h),t=Object(n.useState)(e.month),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(e.year),u=Object(i.a)(s,2),l=u[0],p=u[1],f=Object(n.useState)(k(c,l)),d=Object(i.a)(f,2),m=d[0],b=d[1],g=Object(n.useState)(!1),D=Object(i.a)(g,2),O=D[0],j=D[1],E=[];["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].forEach(function(e){E.push(r.a.createElement("div",{key:E.length,className:"week-header"},r.a.createElement("span",null,e)))}),Object(n.useEffect)(function(){o(e.month),p(e.year),b(k(e.month,e.year))},[e.month,e.year]);var w=function(){j(!O)},y=function(t,a){var n=new Date(l,c,1);n.setMonth(n.getMonth()+a);var r=n.getMonth(),s=v.a.getYear(n);e.updateYear(s),e.updateMonth(r);var u=k(r,s);o(r),p(s),b(u)};return r.a.createElement("div",{className:"calendar-container"},r.a.createElement("div",{className:"calendar-toolbar"},r.a.createElement("div",{className:"toolbar-button left",onClick:function(e){y(0,-1)}},"<"),r.a.createElement("div",{className:"month"},v.a.format(new Date(l,c,1),"MMM YYYY")),r.a.createElement("div",{className:"toolbar-button right",onClick:function(e){y(0,1)}},">")),E,function(){var e=[];return m.forEach(function(t){e.push(r.a.createElement(Y,{date:t,isMonth:t.getMonth()===c,key:v.a.format(t,"YYYY-MM-DD"),isPopUp:O,changePopUp:w}))}),e}())},N=a(145),T=a.n(N),C=a(146),P=a.n(C);var A=function(e){Object(n.useContext)(h);var t=Object(n.useState)([[new Date(2019,6,1).getTime(),1],[new Date(2019,6,2).getTime(),2],[new Date(2019,6,3).getTime(),3],[new Date(2019,6,4).getTime(),4],[new Date(2019,6,5).getTime(),3],[new Date(2019,6,6).getTime(),6]]),a=Object(i.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)(function(){o(e.data)},[e.data]);var s={plotOptions:{series:{pointStart:e.endDate}},xAxis:{type:"datetime"},showNavigator:!0,title:{text:"$TSLA Stock Price"},series:[{name:"$TSLA",data:c,tooltip:{valueDecimals:2}}]};return r.a.createElement("div",{className:"graph"},r.a.createElement(P.a,{highcharts:T.a,constructorType:"stockChart",options:s}))},I=function(e,t,a){for(var n=!1,r=-1,c=[],o=0;o<a.length;o++){var s=a[o];if(s[0]===e.getTime()&&(n=!0,r=o),n&&c.push(s[1]),s[0]===t.getTime()){n=!1;break}}if(0===c.length)return[0,0,0];for(var u=0,l=c[0],i=0,p=0,f=0,h=1;h<c.length;h++)u<c[h]-l&&(u=c[h]-l,i=h,p=f),l>c[h]&&(l=c[h],f=h);return[u,i+=r,p+=r]};var F=function(e){var t=Object(n.useState)(0),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(""),u=Object(i.a)(s,2),l=u[0],p=u[1],f=Object(n.useState)(""),h=Object(i.a)(f,2),d=h[0],m=h[1];return Object(n.useEffect)(function(){var t=e.startDate,a=e.endDate,n=e.data,r=I(t,a,n),c=Object(i.a)(r,3),s=c[0],u=c[1],l=c[2];o(s),u!==l&&(p(new Date(n[l][0])),m(new Date(n[u][0])))},[e.endDate,e.startDate,e.data]),r.a.createElement("div",{className:"max-profit"},r.a.createElement("p",null,"Max Profit : ",c),r.a.createElement("p",null,"Buy Date: ",l?v.a.format(l,"DD-MMM-YYYY"):"Input Date"),r.a.createElement("p",null,"Sale Date : ",d?v.a.format(d,"DD-MMM-YYYY"):"Input Date"))};var U=function(e){var t=Object(n.useState)(v.a.format(e.endDate,"YYYY-MM-DD")),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(v.a.format(e.startDate,"YYYY-MM-DD")),u=Object(i.a)(s,2),l=u[0],p=u[1];return r.a.createElement("div",{className:"sale-buy-date"},r.a.createElement("div",null,r.a.createElement("span",{className:"start-date"},"Add Start Date"),r.a.createElement("input",{type:"date",value:l,onChange:function(t){console.log("changeBuyDate raw data : ",t.target.value),p(t.target.value),e.changeStartDate(new Date(t.target.value)),t.preventDefault()}})),r.a.createElement("div",null,r.a.createElement("span",{className:"end-date"},"Add End Date"),r.a.createElement("input",{type:"date",value:v.a.format(c,"YYYY-MM-DD"),onChange:function(t){console.log("changeSaleDate raw data : ",t.target.value),new Date(t.target.value).getTime()>new Date(l).getTime()?(o(t.target.value),e.changeEndDate(new Date(t.target.value))):console.log(new Date(t.target.value).getTime(),l),t.preventDefault()}})))};var V=function(e){var t=Object(n.useContext)(h),a=new Date(t.year,t.month,1),c=new Date(t.year,t.month,15),o=Object(n.useState)(a),s=Object(i.a)(o,2),u=s[0],l=s[1],p=Object(n.useState)(c),f=Object(i.a)(p,2),d=f[0],m=f[1],b=Object(n.useState)([]),g=Object(i.a)(b,2),D=g[0],O=g[1];return Object(n.useEffect)(function(){var e=[];if(Object.keys(t.shares).length){var a=Object.keys(t.shares);a=a.sort(function(e,a){return t.shares[e].date>t.shares[a].date?1:t.shares[e].date<t.shares[a].date?-1:0});var n=!0,r=!1,c=void 0;try{for(var o,s=a[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;e.push([t.shares[u].date.getTime(),t.shares[u].open])}}catch(l){r=!0,c=l}finally{try{n||null==s.return||s.return()}finally{if(r)throw c}}console.log("TempData : ",e),O(e)}},[t]),r.a.createElement("div",{className:"right-panel"},r.a.createElement(F,{endDate:d,startDate:u,data:D}),r.a.createElement(A,{endDate:d,startDate:u,data:D}),r.a.createElement(U,{startDate:u,changeStartDate:function(e){t.updateMonth(e.getMonth()),t.updateYear(v.a.getYear(e)),l(e)},endDate:d,changeEndDate:function(e){m(e)}}))};var B=function(){var e=Object(n.useState)({shares:{},isFetched:!1}),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(0),s=Object(i.a)(o,2),p=s[0],f=s[1],d=Object(n.useState)(2019),m=Object(i.a)(d,2),v=m[0],b=m[1];return Object(n.useEffect)(function(){var e=function(){var e=Object(l.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x();case 3:t=e.sent,c({shares:t,isFetched:!0}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Inside App useEffect : ",e.t0),c({shares:[],isFetched:!1});case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();a.isFetched||console.log("FetchShares called",e())}),r.a.createElement(h.Provider,{value:{month:p,updateMonth:function(e){f(e)},year:v,updateYear:function(e){b(e)},shares:a.shares,updateShares:function(e){c({shares:e})}}},r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"left-panel"},r.a.createElement(M,null)),r.a.createElement(V,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[147,1,2]]]);
//# sourceMappingURL=main.fe2549c6.chunk.js.map